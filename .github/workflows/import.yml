name: import

on:
  push:
    branches:
      - docs-import

jobs:
  publish:
    runs-on: ubuntu-latest

    permissions:
      contents: 'read'
      id-token: 'write'
      pull-requests: write
      repository-projects: write

    steps:
      - id: 'auth'
        name: 'Authenticate to Google Cloud'
        uses: google-github-actions/auth@v0
        with:
          service_account: github-actions@test1-395206.iam.gserviceaccount.com
          workload_identity_provider: projects/562436113365/locations/global/workloadIdentityPools/github-actions-1/providers/github01

      - name: Configure Git
        run: |
            git config --global user.email "lungsang@esukhia.org"
            git config --global user.name "GitHub-Actions"
            git config --global credential.helper store
            git remote set-url origin "https://github.com/Lungsangg/Gdoc2github"
            
      
      - uses: r7kamura/google-docs-to-github@v3
        with:
              google_drive_folder_id: 1oVMxR8FtWre1k2bqDOxpLYbPDUrifBv7  

      - name: Echo "success"
        run: echo "success"